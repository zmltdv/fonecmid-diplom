# Дипломный проект профессии «1C-программист: с нуля до middle»
 
## Кастомизация конфигурации «Управление IT-фирмой для компании «Ваш компьютерный мастер»

### Цель дипломного проекта

Разработать и подготовить к эксплуатации новый функциональный блок в конфигурации «Управление IT-фирмой».

Вам нужно:

- реализовать новые подсистемы «Работа с заявками клиентов» и «Расчёт управленческой зарплаты» в соответствии с требованиями заказчика,
- подготовить отчёты по новой функциональности,
- оформить инструкцию по начальной настройке,
- подготовить автотест для проверки корректности работы подсистемы «Работа с заявками клиентов»,
- загрузить результат работы в новый репозиторий на GitHub.

------

### Чек-лист готовности к работе над проектом

1. Установите [платформу 1С:Предприятие 8.3.27](https://developer.1c.ru/applications/Console?state=community).
2. Скачайте и установите 1С:EDT [последней актуальной версии](https://releases.1c.ru/version_files?nick=DevelopmentTools10&ver=2024.2.5).
3. Зарегистрируйтесь на github.com и создайте форк от этого репозитория.
4. С помощью 1С:EDT клонируйте свой форк репозитория.

Если все этапы чек-листа пройдены, можете начинать работу над проектом. Успехов.

------

### Инструменты и дополнительные материалы для выполнения задания
- Скачайте Vanessa Automation из [официального гит-репозитория](https://pr-mex.github.io/vanessa-automation/dev/).

------

### Описание задания

Компания «Ваш компьютерный мастер» использует конфигурацию «Управление IT-фирмой» от стороннего поставщика. Вам поставлена задача добавить в конфигурацию модуль для работы с заявками на обслуживание клиентов и модуль для расчёта управленческой заработной платы.

Исходная версия конфигурации размещена в [этом репозитории](/fonecmid-diplom). Для доработки конфигурации нужно использовать 1C:EDT. При доработке конфигурации максимально задействуйте функциональность библиотеки стандартных подсистем.

Для добавленных объектов, реквизитов, методов используйте префикс ВКМ_. Если меняется программный код существующих методов, изменения должны быть выделены комментариями.

Все добавленные объекты должны быть размещены в новой служебной подсистеме ВКМ_ДобавленныеОбъекты. В добавленных объектах не должно быть ошибок, выявляемых встроенным механизмом проверки 1C:EDT.

Для передачи результата изменённую конфигурацию загрузите в отдельный репозиторий на [github.com](https://github.com). Чтобы результаты работы можно было проверить, репозиторий должен быть публичным.

Вместе с результатами работы должны быть переданы инструкция по начальной настройке новой подсистемы и сценарий для автоматизированного тестирования модуля работы с заявками клиентов.

В блок Releases репозитория должен быть добавлен dt-файл демонстрационной базы с введёнными тестовыми данными, которые показывают работу всех механизмов системы.

------

### Подробные требования к подсистемам

- [Работа с заявками клиентов](tasks/tickets.md).
- [Расчёт управленческой зарплаты](tasks/hrm.md).
- [Отчёты](tasks/reports.md).
- [Инструкция по начальной настройке](tasks/docs.md).
- [Тестирование](tasks/testing.md).

------

### Дорожная карта (roadmap)

Работа над проектом рассчитана на один месяц. Для планирования своего времени рекомендуем опираться на дорожную карту. Придерживайтесь указанного разделения проекта на этапы и задачи исполнителя.

- 1-я неделя. Разработка подсистемы «Работа с заявками клиентов».
- 2-я неделя. Разработка подсистемы «Расчёт управленческой зарплаты».
- 3-я неделя. Разработка отчётов, автотеста и инструкции по начальной настройке.
- 4-я неделя. Оформление репозитория, демонстрационной базы, отправка проекта на проверку дипломному руководителю.
- 5-я неделя. Получение обратной связи от руководителя и доработка проекта с повторной проверкой при необходимости.

------

### Правила сдачи работы

Решение нужно передать в виде ссылки на публичный репозиторий на github.com, в котором размещены:

1. Исходный код доработанной конфигурации в формате 1C:EDT.
2. Сценарий автотеста и инструкция по запуску автотеста.
3. Инструкция по начальной настройке доработанной конфигурации.
4. В списке релизов файл с демонстрационной базой в формате *dt.

------

### Критерии оценки

Зачёт по дипломной работе можно получить, если работа соответствует критериям:

1. Репозиторий содержит исходный код конфигурации в формате 1C:EDT.
2. Функциональность конфигурации не имеет существенных ошибок и соответствует техническому заданию.
3. В добавленных объектах нет ошибок, выявляемых проверками 1C:EDT с набором плагинов и составом проверок по умолчанию.
4. Автотест запускается и соответствует техническому заданию.
5. Инструкция по начальному запуску описывает шаги, необходимые для начала использования доработанной конфигурации.
6. Демонстрационная база содержит достаточный набор данных, соответствующий требованиям.

------

# Инструкция по начальной настройке, эксплуатации и тестированию доработанной конфигурации
## «Управление IT-фирмой для компании „Ваш компьютерный мастер“»

---

### 1. Общие сведения

Настоящая инструкция описывает полный цикл подготовки и запуска доработанной конфигурации **«Управление IT-фирмой»**, разработанной в рамках дипломного проекта профессии «1C‑программист: с нуля до middle».

Документ охватывает:
- первичную настройку системы;
- подготовку справочной информации;
- настройку интеграции с Telegram;
- правила работы ключевых пользователей;
- запуск и анализ автоматизированного тестирования.

Инструкция предназначена для администраторов 1С и специалистов, осуществляющих внедрение и контроль эксплуатации системы.

---

### 2. Краткое описание реализованного функционала

В ходе доработки конфигурации реализованы следующие функциональные блоки:

- подсистема **«Работа с заявками клиентов»**;
- подсистема **«Расчёт управленческой заработной платы»**;
- отчёты по заявкам, актам и начислениям;
- интеграция с Telegram для оповещения специалистов;
- сценарии автоматизированного тестирования на базе Vanessa Automation.

Все добавленные объекты, реквизиты и методы имеют префикс `ВКМ_` и размещены в служебной подсистеме  
**ВКМ_ДобавленныеОбъекты**.

---

### 3. Подготовка программного окружения

Перед началом настройки необходимо убедиться, что выполнены следующие условия:

1. Установлена платформа **1С:Предприятие 8.3**, версия **не ниже 8.3.27**.
2. Установлена среда разработки **1C:EDT актуальной версии**.
3. Имеется доступ к публичному репозиторию GitHub с результатами проекта.
4. Пользователь обладает административными правами в информационной базе.
5. Информационная база развёрнута и доступна для входа в режиме «1С:Предприятие».

---

### 4. Настройка интеграции с Telegram

Интеграция с Telegram используется для автоматической отправки уведомлений специалистам
о создании и изменении документов **«Обслуживание клиента»**.

### 4.1 Создание Telegram-бота

1. В Telegram откройте диалог с пользователем **BotFather**.
2. Выполните команду `/start`.
3. Выполните команду `/newbot`.
4. Укажите отображаемое имя бота.
5. Укажите уникальный идентификатор бота (обязательно оканчивается на `bot`).
6. Скопируйте выданный **токен доступа** и сохраните его.

### 4.2 Создание группы для уведомлений

1. Создайте новую группу в Telegram.
2. Добавьте в группу созданного бота.
3. Назначьте боту права администратора группы.
4. Отправьте любое тестовое сообщение в группу.

### 4.3 Получение идентификатора группы (chat_id)

1. В браузере выполните запрос:

```
https://api.telegram.org/bot<ВАШ_ТОКЕН>/getUpdates
```

2. В полученном JSON-ответе найдите объект с данными группы.
3. Скопируйте значение поля `chat.id` (отрицательное число).
4. Сохраните полученный идентификатор.

---

### 5. Заполнение констант в конфигурации 1С

В режиме **1С:Предприятие** откройте раздел:

**ВКМ_ДобавленныеОбъекты → Сервис**

Заполните следующие константы:

- **ВКМ_ТокенУправленияТелеграмБотом** — токен Telegram-бота;
- **ВКМ_ИдентификаторГруппыДляОповещения** — идентификатор группы Telegram;
- **Номенклатура абонентской платы** — элемент справочника «Номенклатура» с видом «Услуга»;
- **Номенклатура работы специалиста** — элемент справочника «Номенклатура» с видом «Услуга».

Все перечисленные константы являются обязательными для корректной работы системы.

---

### 6. Подготовка справочной информации

Перед началом работы пользователей необходимо заполнить следующие справочники:

- **Организации**;
- **Контрагенты**;
- **Номенклатура**;
- **Договоры контрагентов**.

Обязательно создайте договор с видом **«Абонентское обслуживание»**, так как он используется
в документах подсистемы работы с заявками.

---

### 7. Создание пользователей и настройка прав доступа

### 7.1 Создание пользователей

В разделе администрирования:

1. Создайте пользователей для всех сотрудников.
2. Свяжите пользователей с физическими лицами или сотрудниками.

### 7.2 Назначение ролей

Каждому пользователю назначьте профиль группы доступа в соответствии с должностью:

- менеджер — работа с договорами и заявками;
- специалист — выполнение и закрытие обслуживаний;
- бухгалтер — формирование актов и отчётов;
- кадровик-расчётчик — расчёт заработной платы.

---

### 8. Настройка подсистемы расчёта заработной платы

### 8.1 Условия оплаты труда

В регистре сведений **«Условия оплаты сотрудников»** укажите:

- сотрудника;
- тип начисления (процент / оклад);
- значение начисления;
- период действия.

Для специалистов используется процент от продаж, для остальных сотрудников — фиксированный оклад.

---

### 8.2 Графики работы

1. Создайте элемент справочника **«Графики работы»** (например, пятидневная рабочая неделя).
2. В разделе «Сервис» откройте обработку **«Заполнение графика»**.
3. Укажите:
   - график работы;
   - период заполнения (например, год);
   - выходные дни (например: 6,7).
4. Выполните заполнение.
5. Проверьте корректность записей в регистре «График работы».

---

### 9. Работа пользователей в системе

### 9.1 Работа менеджера

Менеджер оформляет договоры и создаёт документы **«Обслуживание клиента»**.
При создании документа автоматически отправляется уведомление специалисту в Telegram.

### 9.2 Работа специалиста

Специалист закрывает обслуживаний клиентов и фиксирует выполненные работы.

### 9.3 Работа бухгалтерии

Бухгалтер использует обработку **«Массовое создание документов»** для формирования актов
и кнопку **«Заполнить»** в документе «Выплата зарплаты».

---

### 10. Проверка корректности работы системы

Для контрольной проверки рекомендуется:

1. Создать документ «Обслуживание клиента».
2. Провести документ.
3. Проверить отправку уведомления в Telegram.
4. Сформировать акты и отчёты.
5. Проверить расчёт заработной платы.

---

### 11. Подготовка к автоматизированному тестированию

### 11.1 Установка Vanessa Automation

1. Скачайте актуальный мажорный релиз Vanessa Automation.
2. Распакуйте архив в отдельный каталог.

### 11.2 Подготовка тестовых баз

1. Создайте пустую базу — «менеджер тестирования».
2. Укажите параметр запуска `/TESTMANAGER/`.
3. В тестируемой базе снимите защиту от опасных действий у пользователей.

---

### 12. Запуск сценариев автоматизированного тестирования

1. Откройте обработку Vanessa Automation.
2. На вкладке «Клиенты тестирования» подключите тестируемую базу.
3. В разделе «Запуск сценариев» последовательно выполните сценарии:
   - создание обслуживания от имени менеджера;
   - закрытие обслуживаний специалистом;
   - массовое создание актов бухгалтером;
   - формирование отчёта.

---

### 13. Анализ результатов тестирования

- При успешном прохождении сценариев ошибки отсутствуют.
- При выявлении ошибок необходимо сохранить логи и устранить несоответствия.

---

### 14. Критерии готовности системы

Система считается готовой к эксплуатации при выполнении следующих условий:

- отсутствуют ошибки проверки 1C:EDT;
- корректно работают уведомления Telegram;
- успешно выполняются автотесты;
- инструкция выполнена полностью.
